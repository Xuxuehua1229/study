package io;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.util.Base64;

import Decoder.BASE64Decoder;

public class Base64Image {
	public static boolean GenerateImage(String base64Str){
		//byte[] base64 =Base64.getDecoder().decode(base64Str);
	    
		Base64.Decoder base64 = Base64.getDecoder();
		//String base64Str1 = new String(base64.decode(base64Str), "UTF-8");
		byte[] base64Byte = base64.decode(base64Str);
		for (int i = 0; i < base64Byte.length; i++) {
			if(base64Byte[i] < 0){
				base64Byte[i] += 256;
			}
		}
		
		OutputStream outputStream = null;
		try {
			//BASE64Decoder decoder = new BASE64Decoder();
			/*byte[] base64Byte = decoder.decodeBuffer(base64Str);
			for (int i = 0; i < base64Byte.length; i++) {
				if(base64Byte[i] < 0){
					base64Byte[i] += 256;
				}
			}*/
			String imgPash = "D://xuexi/666.png";
			outputStream = new FileOutputStream(new File("WebRoot/fileTest/555.png"));
			outputStream.write(base64Byte);
            outputStream.flush();
            return true;
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}finally{
			if(outputStream != null){
				try {
					outputStream.close();
				} catch (IOException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
		}
		return false;
	}

	public static void main(String[] args) {
        String base64Str = "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";
        //String base64Str = "iVBORw0KGgoAAAANSUhEUgAAAQ4AAACnCAIAAABvtyVgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAIGNIUk0AAHolAACAgwAA%2Bf8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAADTiSURBVHja7L1bc%2BNIsibolwgAvEjK6qqenTNnZs32%2Fz%2BuzX9Zm4d96p2esVPVVSmJJICIcN8HB4MhgGRKSlKiJIZVZzOVJAUEwm%2Bfu3%2BO%2F%2F1%2FbABAtwsAItUioqpO0TMDQEpJRKqqijEGFURMBPZuZm5ratsWER2ghjSvaudct1p771nAliDkhYj2G%2FOfx5f2CQCAEAASAiIqPvkqBlRVluEuIu3%2FHhHZ%2B%2FOQIhERESLmazt6Yft%2FwaGPKPryX394y8%2FZk3JFOM06tD8%2BIgBo8Rxt%2FwV2r7V4vk6Gf803IqC75168czgVL7wB%2B57nL5d2%2B5mKq111bdM0iaBtW%2Bf9crmMkh4eHmgjdV0751JKIsnOBgC4vSfD%2Fo23t8XMRBRjFBEFRUQiyp9xjvu%2BR8T58gZIUkyIWNf1oa1%2F6XLO5e0ergh3koaIz5e6k2z9db3vOvSgXyxCziEigCJi3%2Fffv3%2FvY9hsNr9UN8xs%2F5oSmAJVVTe6AlUVBEQkRE0aVVWVABFRABQRCBUREAEgSkoxYeL1eu2YaXmLzF3bkcKsabquFwTSn96aQROgqiqCqkohLQiAsFNX%2BipRKXf51SL3aY%2FmpxCV6WeYOb%2FoQ1itVn3fxxgXUJttsO80d0NEXPmLR6paRFJKJipExMwmYGL%2BmWoIoW3bKP16va6832w2jGQfT0lOtTVmnQQHMc63Xbg0z9Ioh95DSCO30P56lZlzHHGdHF%2FTdG%2B%2FTADQkXOOiEIIIQREfHh4sAPOzIiQZcaNAhUAUEdpuDERVAIQUEIFAiJUVQEVREAU0D6G%2B9%2B%2Fp64XwMf7h8q5ZT1j5rZtK3Z77cNLNybCdosRhDD7uCaNtI0v%2BLVWxfbiKhgHVdUkGplqQdTxey7ZKmqhOlFB1XyTnamwJSJEKCIWbuy3KimllBILMLPD4STFGJk5qaSUANk5Z%2BIYYzQ7JSIiYsZLRIBPc6tmKLdBuwKAFMGJ%2FShbjCPW4JBVQaJptHO1Kp%2FeqpiWFFALwp1zLqUY42KxmM%2FndV2bvJjMDLHKKKxfda05bTW72Wzm2BFiSgkUgFCixpSYycQDAO5ublerVc3%2Bdr5gZvNjaudPZiiZRCSpJkm9pJRSlKSqTdMgogxKoVBpLzzhI0RuFLpcV8L90SMcsC1v4Di9wipOr9zEA1RTSp64Wt40TbNer2ezWUbAzHPZH9YDwHq97rouhCBV7b1X9gogIt57Ikqyk7OUUozx269%2F6%2FveOXdzc0NE%2FXojIrOm7rr%2BVNrIflcIoYshhBBSFJG6rvNt%2FMzhHgzx1Yx8kHUqRRZjNHAVALz3i8WiT5GIRv5ljuzx%2F%2F5%2FViPH4%2F9dPbZt2603EKWu67vF8na%2B8N6XsKyF9QkUAHxd2VGmpAjgFA0A0CRZjhPt1D3DC%2FMqRH3fo2Pn3B%2Ff%2F%2FrnP%2F8ZJd3d3Xnv67qezWY1OQCAmAYQkBjGcb8e2eKsaZ6d%2BnifvMqhfFQ6nQ2cXqSqRoW6rjebTVVVqtp13byZdV2HxSq%2FwSPBvrzKcOWTvAoJHYFzjohK1nH7Pb2M0ByNW2SyeakXy6WYA5alxeXflH9BCCGlhIi%2Bqubz%2BXw%2Br6qKme2Hg4syYEdYQkYACmdIU2REzi7M4qWu66qqyjYHEbcA3SCi13USOYFtAjqbbjs3zHyqvNnlxE7Hl7PgZgiXRVTVEwO7VOHM17fL5bKZEyJG2Romw6BQQdWSGhYuyBCfoQIq4OnweE3iiJNK3%2FeQZFbViJhCrH3l2BGgwReoQIgImK6n%2FqSSE0ETghIKggIkUAFVBMVxSI4KoHCqKP1UOleP3uA0vnoKEe1%2B4rINTSnZ529vb7uuizHW7KuqIiIVSTFmgBkAsCgwydAb4lkADUO4RdTgtZubGx%2F61Wq1WCyGS1ezLWC3cA3KT2tYctWPoaAhhOijuRjvEpOcKqQ8%2FD048vEg51VGazGbO%2BK%2B7x0gKoAqiKKCg51ksAIiigIABBr8LnM52WRpH%2Fr%2BSkRP1CMBqiemiqqq6mLwSDU7875YAAB5e%2FNylZRTyEn%2Ba5DkJHUpJoTUhz6EqCL4JBeAFwyITM%2FD8QqSMgR6YlXGMRCiuWTMjLJNxCA67%2BGpb5oB5tFnTZZOiyaZo%2BycIwTvPbpdEScAEBAzG1ogIgJXIOtkVsWQosGYxJj60Pe9iCDiubf53IDkYau1J003WBU7cDmlEGMEAM8OQVBUNBESISkiyVZzgxVkZdcLSQEQUEERyAy34QkT%2BeYX7gABSkxI6JASgsSECI2vUkrmSyIBIZKiiIDoAYDqul4Z1rN3Q2orpX7Tdl03n82YeVbV7yIqp3L8yu8pvzHpWEiGsH6Uf7TCGCJix4giIcYYFRBNce%2FsSVkLw6WLdw5lICL29aoSQkAmZs4gjN2MiJj%2Bo6a6nvsTntSmaSyl1vd913WbzWa9Xr%2BBqJx7HRKVg2F9LhMGAAJAxEVSSAkgISIwoWMBEAABAdqh49u6XkAVVUi7AH%2F4s8wDmJ1xwxteVvGSeJeHR0Tvvbl5VscJAKIqMQ5xEvuf116j0sk3Xn5rt0eApvCu%2Fg3KuqwTBWcG20zDlQrg%2Fo8%2F%2BvVaYkSQunJE8Ouvv5ieSgbkYHHytqkThT3uXBnVmH8xKiz6YcKt2iXCBmdftrkLKPpq9EeRyZPS2CfRh0KuX7d91qQKbt%2FncfyTK6b0tc2Lc65pGgCoqqrve8tHn8od2isVF1g84cocfBqcq10zYKlfnxgsff8%2Bhs8KCg9KUwGe9h6%2B2z6LeuJqNmfmEELXdQaiDOFvdlHe9jy8%2FelzOT6BXDeJO9n4yfKq6%2FocVsUQUSskz1jq3uTDK07xyHr8%2BLy9k452ZW%2B0mYqUxcNe6FnKVc4J9n1ssNggPPPDpXTtJ%2B0%2BqG9xcnJhkaHzuYG2fApveTyeX%2Bl8equS9yJrhalVuZqXL7tyS2zGG4f%2BwVNbledK3btZleJCxQAt3UFoVjNSXj1NLvhanHgOrblN77617pwuRlIY0gNQQPO7k%2F00XDm7lcP9UlNuj13x6a3KRIXIzpLA5ZqUz%2BqAXeBiZjMs2aSMjsTPHI%2B9p%2BsSETDrOYkxdl0noMz8uOpub28Xi4Wq9m0nMjjMTVVBWQ1pGXqA7oBdOVWRdon3P%2Bf7c6F0mXC9QPkZZW%2Fyi151uZy1bbi%2Fv6%2B8n81mdphC39N25R044X0dyS%2FlUtoMlub4fvrZbTHg888DHtqfES2b%2FdKoYuIaQrBSWiMikph%2B8sbzb9kvKqYqYoxt23ahBwDiOoTQ9z0zDx1dSWyzPgpic%2BjFh1hd19mL29vbpvabTff4%2BEhE8%2Fl84ASMET4RVr73RkpGiC1B0EBA14beeB1yw5JRQUxpT05sVUwYQopJZdO2KSVyKalGkbquq6pq2CdV7RMwl75gRmAAP4bkfJQ1X970fd%2B2rfc%2Bit7fP8Q%2B3N3dIfA2ulYCAASzMAnOq8XwhT8%2F4ZJtd3ppZBKBgogmZiYF0aF%2FZuipPNvTdmXPp%2F05sEhuBXqgAtt6NdvC4SKqwssVj%2FLFR1HDROS9b9v24eFBVdu2dcRW4TblAdWBhOOjWo%2FpARoBYtmY5FM6r%2BdGkxJjNDohIqqq6lTdr4d0q%2BtjAIA%2BBAXgynPlRXm%2BXNwsb4gIVQWUHRNxjNGKdviyMa9DfRcfZf3%2B159%2F%2B9vfFrc3beg363VIMcb4r7%2F%2BvLu5JSK2wtXCj4dPiuFbee6TLv8YRYT9LImEGJ1zSqiqeKgGGU6JyLkcpTVN45vaObfeBCsmFZEUB%2B5lQs4a7fLP3geNUoZH4pz3IAm7rmvbloi8r5xzGaLItFIfq7v9h1Zl2jqVP2LeTdd1fd%2Bzxr7vicgChBBCClFVM%2F3IuayKbbq3wJ%2BpqirRtVE9xBRTSg4wYVLZ0yCKH0RO9FILDvaum5ublGC1XieRqqqMK%2F329taYowkwu%2B9vowiy969PXxzazVNVrOVAwEKyzKe1Xj12XeeIvffOOQVQJibWM%2Fs7LvOw5CaUxWJhOLppuJqdImj4qOwOH86w9H1vBGu%2F%2Ffabd%2B7%2B%2Fj60XQjhdnmjqhKTiKSnke5HR8Cmz8gIenKgYuVnhmmsw6bruk7UECnDaefNbL1en9faV1qBgodtg1YPJECkiFiBxySQ7HL9ztzTqA4nvdcWT7FFAOjm7vfff%2F%2Fbt1%2Bqqv7HP%2F4xr%2Bpff%2F31%2B%2B%2F%2FWi6XJAoAxglgnZuIKHQRMpxvZ66KzLhY2HtmNzeyWIgIhA4BGICLvhIAlTO3fcquPeTJi0NC%2BmKrrgnLL9xWySQAEQVQ0CRJJSVJQVKogsYIRLwgP0eHihQVQmIZtcX%2FIFI9%2BE%2BadmqIds6he84T%2FVjMiyGEqqp%2B%2F%2F33zWYTY3SAIYR%2F%2B7f%2F9PCwHt3IZarkvU%2F6C9LD5rrMjPuZDZnPvb223syM074Cadz78xRjHhqRdKh8IyJ3XEis1lhVCVFKIvALDllC18%2Bb2ebhcf34aHb5n%2F%2F8J%2F2n%2F3w%2Br%2FocopLx%2Bq8pJ1BUXeQspHlidTO3AMGYtyyZccIUuYIDdEi";
        GenerateImage(base64Str);
	}
}
